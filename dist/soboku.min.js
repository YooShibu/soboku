!function(t){"use strict";function n(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(t){switch(t.length){case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(void 0,n)}}}function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function i(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];-1===o(n,e)&&n.push(e)}return n}function o(t,n){for(var r=0;t.length>r;++r)if(t[r]===n)return r;return-1}function u(t,n){if(!(0>n)){for(var r=n,e=n+1;t.length>e;++r,++e)t[r]=t[e];t.pop()}}function s(t,n){for(var r=[],e=0;t.length>e;++e)r.push(n(t[e]));return r}function c(t,n){var r={};for(var e in t)r[e]=n(t[e]);return r}function h(t){return"object"==typeof t&&t instanceof b}function p(t){return"object"==typeof t&&"function"==typeof t.s}function f(t){return h(t)&&e(t,"depends")}function a(t){return new x(t)}function l(t){return p(t)?t:new d(t)}function y(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];f(e)?n=n.concat(e.depends):h(e)&&n.push(e)}return i(n)}function v(t){return t.s()}function g(t,n){return t===n}var m=function(){function t(t,n){this.listeners=t,this.listener=n}return t.prototype.unsubscribe=function(){var t=this.listeners;null!==t&&(u(t,o(t,this.listener)),this.listeners=null,this.listener=null)},t}(),w=function(){function t(t,n){if(this.listener=t,this.thisArg=n,"function"!=typeof t)throw new TypeError("'listener' must be a function")}return t.prototype.gets=function(t){this.listener.call(this.thisArg,t)},t}(),b=function(){function t(){this.listeners=[]}return t.prototype.next=function(t){for(var n=this.listeners,r=0;n.length>r;++r)n[r].gets(t);return t},t.prototype.report=function(t,n){var r=new w(t,n);return this.listeners.push(r),new m(this.listeners,r)},t.prototype.listenerCount=function(){return this.listeners.length},t}(),x=function(t){function r(n){var r=t.call(this)||this;return r.state=n,r}return n(r,t),r.prototype.next=function(n){return this.state=n,t.prototype.next.call(this,n)},r.prototype.s=function(){return this.state},r}(b),d=function(){function t(t){this.state=t}return t.prototype.s=function(){return this.state},t}(),T=function(t){function r(n,r){var e=t.call(this)||this;return e.gatekeeper=n,r.report(e.listener,e),e}return n(r,t),r.prototype.listener=function(t){this.gatekeeper.s()&&this.next(t)},r}(b),j=function(t){function r(n){var r=t.call(this)||this;return r.array=[],r.array=n||[],r}return n(r,t),r.prototype.s=function(){return this.array},r.prototype.pop=function(){var t=this.array.pop();return this.next(this.array),t},r.prototype.push=function(){var t=Array.prototype.push.apply(this.array,arguments);return this.next(this.array),t},r.prototype.reverse=function(){return this.array.reverse(),this.next(this.array),this.array},r.prototype.shift=function(){var t=this.array.shift();return this.next(this.array),t},r.prototype.sort=function(t){return this.array.sort(t),this.next(this.array),this.array},r.prototype.splice=function(){return Array.prototype.splice.apply(this.array,arguments),this.next(this.array),this.array},r.prototype.unshift=function(){var t=Array.prototype.unshift.apply(this.array,arguments);return this.next(this.array),t},r}(b),k=function(t){function r(n){for(var r=t.call(this)||this,e=r.depends=y(n),i=r.listener,o=0;e.length>o;++o)e[o].report(i,r);return r}return n(r,t),r.prototype.listener=function(t){this.next(this.s())},r}(b),O=function(t){function e(n,e){var i=t.call(this,n)||this;return i.func=r(e),i.states=s(n,l),i}return n(e,t),e.prototype.s=function(){var t=s(this.states,v);return this.func(t)},e}(k),A=function(t){function r(n){var r=this,e=[];for(var i in n)e.push(n[i]);return r=t.call(this,e)||this,r.shObj=c(n,l),r}return n(r,t),r.prototype.s=function(){return c(this.shObj,v)},r}(k),C=function(t){function r(n,r){return t.call(this,n,r)||this}return n(r,t),r}(O),q=function(t){function r(n,r){return t.call(this,n,r)||this}return n(r,t),r.prototype.listener=function(){var t=this.s();t&&this.next(t)},r}(O),I=function(t){function r(n,r){var e=t.call(this)||this;return e.permition=n,e.reporter=r,n.report(e.permitionChanged,e),r.report(e.publish,e),e}return n(r,t),r.prototype.s=function(){return this.reporter.s()},r.prototype.publish=function(t){this.permition.s()&&this.next(t)},r.prototype.permitionChanged=function(t){t&&this.next(this.reporter.s())},r}(b),R=function(){return function(){this.output=new b}}(),E=function(t){function r(n){var r=t.call(this)||this;r.input=a(!1),r.cb=function(){return r.output.next(Date.now())},r.isRunning=!1;var e=r.ms=l(n);return r.input.report(r.fireTimer,r),h(e)&&e.report(r.msChanged,r),r}return n(r,t),r.prototype.msChanged=function(t){this.isRunning&&(this.fireTimer(!1),this.fireTimer(!0,t))},r.prototype.fireTimer=function(t,n){this.fire(t,n||this.ms.s()),this.isRunning=t},r}(R),P=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.fire=function(t,n){!1===t?clearInterval(this.timer):!1===this.isRunning&&(this.timer=setInterval(this.cb,n))},r}(E),D=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.fire=function(t,n){clearTimeout(this.timer),t&&(this.timer=setTimeout(this.cb,n))},r}(E),z=function(t){function r(n,r){void 0===r&&(r=g);var e=t.call(this)||this;return e.input=new b,e.i=0,e.compare=r,e.sequence=n,e.input.report(e.checkInput,e),e}return n(r,t),r.prototype.checkInput=function(t){var n=this.sequence;!1!==this.compare(n[this.i],t)?++this.i===n.length&&(this.i=0,this.output.next(!0)):this.i=0},r}(R);t.state=a,t.reporter=function(){return new b},t.gate=function(t,n){return new T(t,n)},t.sarray=function(t){return new j(t)},t.combine=function(t){return new A(t)},t.dependency=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new C(n,t)},t.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new q(n,t)},t.publisher=function(t,n){return new I(t,n)},t.interval=function(t){return new P(t)},t.timeout=function(t){return new D(t)},t.sequenceEqual=function(t,n){return new z(t,n)}}(this.soboku=this.soboku||{});
//# sourceMappingURL=soboku.min.js.map
