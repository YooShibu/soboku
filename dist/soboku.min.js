!function(t){"use strict";function n(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(t){switch(t.length){case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(void 0,n)}}}function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function i(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];-1===o(n,e)&&n.push(e)}return n}function o(t,n){for(var r=0;t.length>r;++r)if(t[r]===n)return r;return-1}function s(t,n){if(!(0>n)){for(var r=n,e=n+1;t.length>e;++r,++e)t[r]=t[e];t.pop()}}function u(t,n){for(var r=[],e=0;t.length>e;++e)r.push(n(t[e]));return r}function p(t,n){var r={};for(var e in t)r[e]=n(t[e]);return r}function h(t){return"object"==typeof t&&t instanceof m}function a(t){return"object"==typeof t&&"function"==typeof t.s}function c(t){return h(t)&&e(t,"depends")}function f(t){return new b(t)}function l(t){return a(t)?t:new x(t)}function y(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];c(e)?n=n.concat(e.depends):h(e)&&n.push(e)}return i(n)}function v(t){return t.s()}function d(t,n){return t===n}var w=function(){function t(t,n){this.listeners=t,this.listener=n}return t.prototype.unsubscribe=function(){var t=this.listeners;null!==t&&(s(t,o(t,this.listener)),this.listeners=null,this.listener=null)},t}(),g=function(){function t(t,n){if(this.listener=t,this.thisArg=n,"function"!=typeof t)throw new TypeError("'listener' must be a function")}return t.prototype.read=function(t){this.listener.call(this.thisArg,t)},t}(),m=function(){function t(){this.listeners=[]}return t.prototype.next=function(t){for(var n=this.listeners,r=0;n.length>r;++r)n[r].read(t);return t},t.prototype.report=function(t){var n=t instanceof g?t:new g(t);return this.listeners.push(n),new w(this.listeners,n)},t.prototype.listenerCount=function(){return this.listeners.length},t}(),b=function(t){function r(n){var r=t.call(this)||this;return r.state=n,r}return n(r,t),r.prototype.next=function(n){return this.state=n,t.prototype.next.call(this,n)},r.prototype.s=function(){return this.state},r}(m),x=function(){function t(t){this.state=t}return t.prototype.s=function(){return this.state},t}(),C=function(t){function r(n,r){var e=t.call(this)||this;return e.gatekeeper=n,r.report(new g(e.listener,e)),e}return n(r,t),r.prototype.listener=function(t){this.gatekeeper.s()&&this.next(t)},r}(m),O=function(t){function r(n){var r=t.call(this)||this;return r.array=[],r.array=n||[],r}return n(r,t),r.prototype.s=function(){return this.array},r.prototype.pop=function(){var t=this.array.pop();return this.next(this.array),t},r.prototype.push=function(){var t=Array.prototype.push.apply(this.array,arguments);return this.next(this.array),t},r.prototype.reverse=function(){return this.array.reverse(),this.next(this.array),this.array},r.prototype.shift=function(){var t=this.array.shift();return this.next(this.array),t},r.prototype.sort=function(t){return this.array.sort(t),this.next(this.array),this.array},r.prototype.splice=function(){return Array.prototype.splice.apply(this.array,arguments),this.next(this.array),this.array},r.prototype.unshift=function(){var t=Array.prototype.unshift.apply(this.array,arguments);return this.next(this.array),t},r}(m),D=function(t){function r(){var n=null!==t&&t.apply(this,arguments)||this;return n.depends=[],n}return n(r,t),r.prototype.addDepends=function(t,n){for(var r=y(t),e=0;r.length>e;++e)r[e].report(n);this.depends.push.apply(this.depends,r)},r.prototype.listener=function(t){this.next(this.s())},r}(m),I=function(t){function r(n){var r=t.call(this)||this,e=[];for(var i in n)e.push(n[i]);return t.prototype.addDepends.call(r,e,new g(r.listener,r)),r.shObj=p(n,l),r}return n(r,t),r.prototype.s=function(){return p(this.shObj,v)},r}(D),R=function(t){function e(n,e){var i=t.call(this)||this;return i.func=r(n),i.states=u(e,l),t.prototype.addDepends.call(i,e,new g(i.listener,i)),i}return n(e,t),e.prototype.s=function(){var t=u(this.states,v);return this.func(t)},e}(D),j=function(t){function r(n){var r=t.call(this)||this;r.condition=n;var e=new g(r.onConditionChanged,r);return t.prototype.addDepends.call(r,[n],e),r}return n(r,t),r.prototype.onConditionChanged=function(){var t=this.s();t&&this.next(t)},r.prototype.s=function(){return this.condition.s()},r}(D),A=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.s=function(){return!t.prototype.s.call(this)},r}(j),P=function(t){function r(n,r){var e=t.call(this)||this;return e.permition=n,e.reporter=r,e.prevPermition=n.s(),t.prototype.addDepends.call(e,[n],new g(e.permitionChanged,e)),t.prototype.addDepends.call(e,[r],new g(e.publish,e)),e}return n(r,t),r.prototype.s=function(){return this.reporter.s()},r.prototype.publish=function(){this.permition.s()&&this.next(this.reporter.s())},r.prototype.permitionChanged=function(){var t=this.permition.s();t&&!1===this.prevPermition&&this.next(this.reporter.s()),this.prevPermition=t},r}(D),k=function(){return function(t){this.output=new m,this.error=new q,this.reset=new m,this.input=t,t.report(new g(this.onInput,this)),this.reset.report(new g(this.onReset,this))}}(),q=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.next=function(n){if(0===this.listenerCount()){var r=new Error("Unhandled observable error: "+n.name+": "+n.message);throw r.name="UnhandledObservableErrorWarning",r}return t.prototype.next.call(this,n)},r}(m),E=function(t){function r(n){var r=t.call(this,f(!1))||this;r.cb=function(){return r.output.next(Date.now())},r.isRunning=!1;var e=r.ms=l(n);return h(e)&&e.report(new g(r.msChanged,r)),r}return n(r,t),r.prototype.msChanged=function(t){this.isRunning&&(this.onInput(!1),this.onInput(!0,t))},r.prototype.onInput=function(t,n){this.fire(t,n||this.ms.s()),this.isRunning=t},r.prototype.onReset=function(){this.input.next(!1)},r}(k),T=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.fire=function(t,n){!1===t?clearInterval(this.timer):!1===this.isRunning&&(this.timer=setInterval(this.cb,n))},r}(E),U=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.fire=function(t,n){clearTimeout(this.timer),t&&(this.timer=setTimeout(this.cb,n))},r}(E),S=function(t){function r(n,r){void 0===r&&(r=d);var e=t.call(this,new m)||this;return e.i=0,e.compare=r,e.sequence=l(n),e}return n(r,t),r.prototype.onInput=function(t){var n=this.sequence.s();!1!==this.compare(n[this.i],t)?++this.i===n.length&&(this.i=0,this.output.next(!0)):this.i=0},r.prototype.onReset=function(){this.i=0},r}(k);t.state=f,t.listener=function(t,n){return new g(t,n)},t.reporter=function(){return new m},t.gate=function(t,n){return new C(t,n)},t.sarray=function(t){return new O(t)},t.combine=function(t){return new I(t)},t.editer=function(t,n){return new R(t,n)},t.trigger=function(t){return new j(t)},t.ntrigger=function(t){return new A(t)},t.publisher=function(t,n){return new P(t,n)},t.SObservable=k,t.interval=function(t){return new T(t)},t.timeout=function(t){return new U(t)},t.sequenceEqual=function(t,n){return new S(t,n)}}(this.soboku=this.soboku||{});
//# sourceMappingURL=soboku.min.js.map
