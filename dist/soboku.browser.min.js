!function(t){"use strict";function n(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(t){switch(t.length){case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(void 0,n)}}}function e(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function i(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];-1===o(n,e)&&n.push(e)}return n}function o(t,n){for(var r=0;t.length>r;++r)if(t[r]===n)return r;return-1}function s(t,n){if(!(0>n)){for(var r=n,e=n+1;t.length>e;++r,++e)t[r]=t[e];t.pop()}}function u(t,n){for(var r=[],e=0;t.length>e;++e)r.push(n(t[e]));return r}function h(t,n){var r={};for(var e in t)r[e]=n(t[e]);return r}function c(t){return"object"==typeof t&&t instanceof b}function p(t){return"object"==typeof t&&"function"==typeof t.s}function f(t){return c(t)&&e(t,"depends")}function l(t){return t instanceof m}function a(){return new b}function y(t){return p(t)?t:new x(t)}function v(t){for(var n=[],r=0;t.length>r;++r){var e=t[r];f(e)?n=n.concat(e.depends):c(e)&&n.push(e)}return i(n)}function g(t){return t.s()}var w=function(){function t(t,n){this.listeners=t,this.listener=n}return t.prototype.unlisten=function(){var t=this.listeners;null!==t&&(s(t,o(t,this.listener)),this.listeners=null,this.listener=null)},t}(),m=function(){function t(t,n){if(this.listener=t,this.thisArg=n,"function"!=typeof t)throw new TypeError("'listener' must be a function")}return t.prototype.gets=function(t){this.listener.call(this.thisArg,t)},t}(),b=function(){function t(){this.listeners=[]}return t.prototype.next=function(t){for(var n=this.listeners,r=0;n.length>r;++r)n[r].gets(t);return t},t.prototype.report=function(t){var n=l(t)?t:new m(t);return this.listeners.push(n),new w(this.listeners,n)},t.prototype.listenerCount=function(){return this.listeners.length},t}(),d=function(t){function r(n){var r=t.call(this)||this;return r.state=n,r}return n(r,t),r.prototype.next=function(n){return this.state=n,t.prototype.next.call(this,n)},r.prototype.s=function(){return this.state},r}(b),x=function(){function t(t){this.state=t}return t.prototype.s=function(){return this.state},t}(),E=function(t){function r(n,r){var e=t.call(this)||this;return e.gatekeeper=n,r.report(new m(e.listener,e)),e}return n(r,t),r.prototype.listener=function(t){this.gatekeeper.s()&&this.next(t)},r}(b),O=function(t){function r(){var n=null!==t&&t.apply(this,arguments)||this;return n.r=new b,n}return n(r,t),r.prototype.s=function(){return this},r.prototype.pop=function(){var n=t.prototype.pop.call(this);return this.r.next(this),n},r.prototype.push=function(){var n=t.prototype.push.apply(this,arguments);return this.r.next(this),n},r.prototype.reverse=function(){return t.prototype.reverse.call(this),this.r.next(this),this},r.prototype.shift=function(){var n=t.prototype.shift.call(this);return this.r.next(this),n},r.prototype.sort=function(n){return t.prototype.sort.call(this,n),this.r.next(this),this},r.prototype.splice=function(){return t.prototype.splice.apply(this,arguments),this.r.next(this),this},r.prototype.unshift=function(){var n=t.prototype.unshift.apply(this,arguments);return this.r.next(this),n},r}(Array),T=function(t){function r(n){for(var r=t.call(this)||this,e=r.depends=v(n),i=new m(r.listener,r),o=0;e.length>o;++o)e[o].report(i);return r}return n(r,t),r.prototype.listener=function(t){this.next(this.s())},r}(b),j=function(t){function e(n,e){var i=t.call(this,n)||this;return i.func=r(e),i.states=u(n,y),i}return n(e,t),e.prototype.s=function(){var t=u(this.states,g);return this.func(t)},e}(T),k=function(t){function r(n){var r=this,e=[];for(var i in n)e.push(n[i]);return r=t.call(this,e)||this,r.shObj=h(n,y),r}return n(r,t),r.prototype.s=function(){return h(this.shObj,g)},r}(T),C=function(t){function r(n,r){return t.call(this,n,r)||this}return n(r,t),r}(j),A=function(t){function r(n,r){return t.call(this,n,r)||this}return n(r,t),r.prototype.listener=function(){var t=this.s();t&&this.next(t)},r}(j),U=(function(t){function r(){return null!==t&&t.apply(this,arguments)||this}n(r,t),r.prototype.next=function(n){if(0===this.listenerCount())throw new U(n);return t.prototype.next.call(this,n)}}(b),function(t){function r(n){return t.call(this,"Unhandled observable error: "+n.name+": "+n.message)||this}return n(r,t),r}(Error));U.prototype.name="UnhandledObservableError";var I=function(){function t(t){var n=this;this.input=a(),this.output=a(),this.cb=function(){return n.output.next(Date.now())},this.isEmitting=!1;var r=this.ms=y(t);this.input.report(new m(this.fireTimer,this)),c(r)&&r.report(new m(this.msChanged,this))}return t.prototype.msChanged=function(t){this.isEmitting&&(this.fireTimer(!1),this.fireTimer(!0,t))},t.prototype.fireTimer=function(t,n){this.fire(t,n||this.ms.s()),this.isEmitting=t},t}(),P=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.fire=function(t,n){!1===t?clearInterval(this.timer):!1===this.isEmitting&&(this.timer=setInterval(this.cb,n))},r}(I);!function(t){function r(){return null!==t&&t.apply(this,arguments)||this}n(r,t),r.prototype.fire=function(t,n){clearTimeout(this.timer),t&&(this.timer=setTimeout(this.cb,n))}}(I);t.gate=function(t,n){return new E(t,n)},t.reporter=a,t.sarray=function(t){return void 0==t?new O:(new O).concat(t)},t.state=function(t){return new d(t)},t.listener=function(t,n){return new m(t,n)},t.combine=function(t){return new k(t)},t.dependency=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new C(n,t)},t.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new A(n,t)},t.UnhandledObservableError=U,t.interval=function(t){return new P(t)}}(this.soboku=this.soboku||{});
//# sourceMappingURL=soboku.browser.min.js.map
